extends layout
block content
	include partials/buttonGroup
	.my-4(data-ng-init="setRoute('"+root+"')")
		h1
			span.text-capitalize=root+' '
			span Insert Page
	include partials/alerts
	form.mb-5(data-ng-submit="insertSingle()")
		.text-right.pt-3
			button.btn.btn-primary(type='submit',ng-disabled="disabled")
				i.fas.fa-save.mr-2
				span Save
		each field,name in schema.properties
			if field.type=='boolean'
				.form-check.pb-2
					input.form-check-input(type='checkbox',id='form-'+name,data-ng-model="data."+name)
					label.form-check-label.text-capitalize.small.text-secondary(for='form-'+name)=name
			else if name=='email'
				.form-group
					label.text-capitalize.small.text-secondary(for='form-'+name)=name
					input.form-control(type='email',id='form-'+name,data-ng-model="data."+name)
			else if name=='password'
				.form-group
					label.text-capitalize.small.text-secondary(for='form-'+name)=name
					input.form-control(type='password',id='form-'+name,data-ng-model="data."+name)
			else if name=="_id"

			else if name=="updatedAt"||name=="createdAt"

			else if field.format=="date-time"
				.form-group
					label.text-capitalize.small.text-secondary(for='form-'+name)=name
					input.form-control(type='date',id='form-'+name,data-ng-model="data."+name)
			else if field.type=='array'||field.type=='object'
				if(name=='images')

				else
					.form-group
						label.text-capitalize.small.text-secondary(for='form-'+name)=name
						label.form-control.text-muted.border-0(id='form-'+name)
							small="Save "+root+" first to add "+name
			else if field.type=='number'
				.row
					.col-12.col-lg-3
						.form-group
							label.text-capitalize.small.text-secondary(for='form-'+name)=name
							.input-group
								input.form-control(type='number',id='form-'+name,data-ng-model="data."+name,min=0,step=".01")
								.input-group-append
									if name=='price'
										strong.ml-2 &euro;
									else
										strong.ml-2 ?
			else if name=="description"||name=="text"
				.form-group
					label.text-capitalize.small.text-secondary(for='form-'+name)=name
					textarea.form-control(type='text',id='form-'+name,data-ng-model="data."+name,rows=7)
			else
				.form-group
					label.text-capitalize.small.text-secondary(for='form-'+name)=name
					input.form-control(type='text',id='form-'+name,data-ng-model="data."+name)
		.text-right.pt-3
			button.btn.btn-primary(type='submit',ng-disabled="disabled")
				i.fas.fa-save.mr-2
				span Save